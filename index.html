<!doctype html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>ุณููพุฑ ุงูพูฺฉุดู ุงุนุชุจุงุฑ ู ูุฏุฑุช ูุงู</title>
  <link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <meta name="theme-color" content="#0b1226">
  <style>
/* style.css - Embedded: Mobile First, RTL, Glassmorphism, Premium Fintech UI */
:root{
  --bg1: linear-gradient(135deg,#081428 0%, #0b1b3a 50%, #07142a 100%);
  --glass: rgba(255,255,255,0.06);
  --glass-2: rgba(255,255,255,0.04);
  --accent1: #6ee7b7;
  --accent2: #8bd3ff;
  --accent3: #b98bff;
  --muted: rgba(255,255,255,0.7);
  --card-radius: 16px;
  --shadow: 0 6px 20px rgba(2,6,23,0.6);
  --glass-border: rgba(255,255,255,0.06);
  --glass-strong: rgba(255,255,255,0.09);
  font-family: "Vazirmatn", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
}

*{box-sizing:border-box}
html,body{height:100%}
body.app{
  margin:0;
  min-height:100%;
  background:var(--bg1);
  color:#fff;
  position:relative;
  -webkit-user-select:none;
  user-select:none;
  font-size:14px;
  overflow:hidden;
}

/* background layered gradients + blur */
.app-bg{
  position:fixed;inset:0;
  background:
    radial-gradient(60% 40% at 75% 20%, rgba(185,139,255,0.12), transparent 10%),
    radial-gradient(50% 30% at 20% 80%, rgba(107,211,255,0.06), transparent 12%),
    linear-gradient(180deg, rgba(11,18,38,0.9) 0%, rgba(3,7,19,0.8) 100%);
  filter:blur(28px) saturate(110%);
  z-index:-2;
}

/* Topbar */
.topbar{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
  padding:12px;
  padding-left:16px;
  padding-right:16px;
  position:relative;
  z-index:40;
}
.topbar-title{font-weight:600; font-size:16px}
.topbar .btn-icon{
  background:transparent;border:1px solid var(--glass-border);padding:6px 10px;border-radius:12px;color:var(--muted);backdrop-filter:blur(8px);
}
.user-badge img{width:38px;border-radius:10px;opacity:0.95}

/* Pages container */
.pages{
  padding:12px;
  padding-bottom:84px; /* nav */
  height:calc(100vh - 56px);
  overflow:auto;
  -webkit-overflow-scrolling:touch;
}

/* Glass card base */
.glass{
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  border-radius:var(--card-radius);
  border:1px solid var(--glass-border);
  box-shadow:var(--shadow);
  backdrop-filter: blur(10px) saturate(120%);
  padding:12px;
  margin-bottom:14px;
}

/* Hero */
.hero{
  display:flex;align-items:center;justify-content:space-between;gap:12px;padding:16px;border-radius:20px;background:linear-gradient(135deg,rgba(137,197,255,0.08),rgba(185,139,255,0.06));
}
.hero h1{margin:0;font-size:18px}
.hero .muted{opacity:0.9;color:var(--muted)}
.cta{background:linear-gradient(90deg,var(--accent1),var(--accent2));border:none;padding:10px 14px;border-radius:14px;color:#041229;font-weight:600;box-shadow:0 6px 18px rgba(106,225,199,0.14);}

/* sections */
.section h4{margin:6px 0 8px 0;font-size:15px}
.section-header{display:flex;justify-content:space-between;align-items:center}
.link{background:transparent;border:none;color:var(--muted)}

/* carousel */
.carousel{display:flex;gap:12px;overflow:auto;padding-top:8px;padding-bottom:6px}
.carousel::-webkit-scrollbar{display:none}
.card{min-width:200px;padding:12px;border-radius:14px}
.card.promo{width:220px}
.card-top{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}
.brand{font-weight:600}
.limit{font-size:12px;color:var(--muted)}

/* chips */
.chips{display:flex;gap:8px;overflow:auto;padding:8px 0}
.chips .chip{padding:8px 12px;border-radius:999px;border:1px solid var(--glass-border);background:transparent;color:var(--muted)}
.chips .chip.active{background:linear-gradient(90deg,var(--accent2),var(--accent3));color:#061126;box-shadow:0 8px 20px rgba(185,139,255,0.12)}

/* store grid */
.store-grid{display:flex;flex-direction:column;gap:10px}
.store-card{display:flex;align-items:center;gap:12px;padding:12px}
.store-logo{width:44;height:44;border-radius:10px;background:linear-gradient(180deg,#fff1,#fff2);display:flex;align-items:center;justify-content:center;color:#041229;font-weight:700}
.rate{font-size:12px;color:var(--muted)}

/* list */
.list{list-style:none;padding:0;margin:0;display:flex;flex-direction:column;gap:10px}
.list-item{display:flex;justify-content:space-between;align-items:center;padding:10px;border-radius:12px}
.meta{display:flex;flex-direction:column;gap:6px;align-items:flex-start;text-align:right}
.btn-link{background:transparent;border:none;color:var(--muted)}

/* wallet */
.balance{display:flex;justify-content:space-between;align-items:center;padding:12px;border-radius:14px}
.balance .amount{font-size:18px;font-weight:700}
.cards{display:flex;flex-direction:column;gap:10px}
.card-bank{padding:14px;border-radius:12px}
.card-top{display:flex;justify-content:space-between;align-items:center}
.chip{width:30px;height:20px;background:linear-gradient(90deg,var(--accent1),var(--accent2));border-radius:4px}

/* chat */
.chat{display:flex;flex-direction:column;height:65vh; padding:8px}
.messages{flex:1;overflow:auto;padding:6px;display:flex;flex-direction:column;gap:10px}
.msg{display:flex}
.msg.bot{justify-content:flex-start}
.msg.user{justify-content:flex-end}
.bubble{max-width:78%;padding:10px;border-radius:12px;background:linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.02));border:1px solid rgba(255,255,255,0.04)}
.msg.user .bubble{background:linear-gradient(90deg,var(--accent1),var(--accent2));color:#041229}
.chat-footer{padding-top:8px}
.input-row{display:flex;gap:8px;align-items:center}
.input-row input{flex:1;padding:10px;border-radius:12px;border:1px solid var(--glass-border);background:transparent;color:#fff}
.btn-icon{background:linear-gradient(90deg,var(--accent3),var(--accent2));border:none;padding:10px;border-radius:12px;color:#041229}
.quick-questions{display:flex;gap:8px;overflow:auto;padding-bottom:8px}
.chip.small{padding:6px 8px}

/* payments */
.pay-card{display:flex;gap:12px;align-items:center}
.pay-info .amount{font-weight:700}
.pay-actions{display:flex;gap:8px;margin-top:8px}

/* debts */
.debt-list{list-style:none;padding:0;margin:0;display:flex;flex-direction:column;gap:10px}
.debt{display:flex;justify-content:space-between;align-items:center;padding:10px}
.progress{width:96px;height:8px;background:rgba(255,255,255,0.03);border-radius:99px;overflow:hidden}
.progress > div{height:100%;background:linear-gradient(90deg,var(--accent1),var(--accent2))}

/* finance */
.finance-overview{display:flex;justify-content:space-between;align-items:center;padding:10px}
.section-row{display:flex;gap:10px}
.tile{flex:1;padding:10px;text-align:right}
.transactions{list-style:none;padding:0;margin:0}
.transactions li{display:flex;justify-content:space-between;padding:10px;border-radius:10px}
.t-right.income{color:var(--accent1);font-weight:700}
.note{font-size:12px}

/* profile */
.profile-top{display:flex;gap:12px;align-items:center}
.settings{list-style:none;padding:0;margin:12px 0 0 0;display:flex;flex-direction:column;gap:10px}
.settings li{padding:10px;border-radius:10px;background:linear-gradient(180deg, rgba(255,255,255,0.01), transparent)}
.settings .danger{color:#ffb4b4}

/* bottom nav */
.bottom-nav{
  position:fixed;left:12px;right:12px;bottom:12px;padding:10px;border-radius:22px;display:flex;align-items:center;justify-content:space-between;z-index:60;
  backdrop-filter:blur(10px);box-shadow:0 10px 30px rgba(3,8,20,0.6);border:1px solid rgba(255,255,255,0.04)
}
.nav-left,.nav-right{display:flex;gap:6px;align-items:center}
.nav-item{display:flex;flex-direction:column;align-items:center;gap:4px;padding:6px 8px;border-radius:12px;background:transparent;border:none;color:var(--muted);font-size:11px}
.nav-item.active{background:linear-gradient(90deg,rgba(255,255,255,0.03),rgba(255,255,255,0.02));color:#fff}
.nav-center{position:relative;display:flex;align-items:center;justify-content:center}
.nav-ai{position:relative;transform:translateY(-26%);width:68px;height:68px;border-radius:999px;border:none;background:linear-gradient(135deg,var(--accent3),var(--accent2));display:flex;align-items:center;justify-content:center;box-shadow:0 18px 40px rgba(185,139,255,0.16)}
.ai-circle{width:56px;height:56px;border-radius:999px;display:flex;align-items:center;justify-content:center;color:#fff;}

/* page transitions */
.page{opacity:0;transform:translateY(16px);transition:all 320ms cubic-bezier(.2,.9,.3,1);display:none}
.page.active{display:block;opacity:1;transform:none}

/* small helpers */
.btn-primary{background:linear-gradient(90deg,var(--accent1),var(--accent2));padding:8px 10px;border-radius:12px;border:none;color:#041229;font-weight:600}
.btn-primary.small{padding:6px 8px;font-size:13px}
.btn-ghost{background:transparent;border:1px dashed rgba(255,255,255,0.04);padding:10px;border-radius:12px;color:var(--muted)}
.small{font-size:12px}
.muted{color:var(--muted);font-size:13px}
.big{font-size:16px}

/* responsive tweaks */
@media (min-width:720px){
  .pages{padding:20px 40px 120px 40px}
  .bottom-nav{left:24px;right:24px;bottom:20px}
}
  </style>
</head>
<body class="app">
  <div class="app-bg"></div>

  <header class="topbar">
    <div class="topbar-left">
      <button class="btn-icon" id="installBtn" aria-label="ูุตุจ ุงูพ" style="display:none">ูุตุจ</button>
    </div>
    <div class="topbar-title">ุณููพุฑ ุงูพ ุงุนุชุจุงุฑ</div>
    <div class="topbar-right">
      <div class="user-badge">
        <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 64'%3E%3Ccircle cx='32' cy='20' r='12' fill='%23ffffff'/%3E%3Cpath d='M6 58c0-14 10-26 26-26s26 12 26 26' fill='none' stroke='%23ffffff' stroke-opacity='0.2' stroke-width='2'/%3E%3C/svg%3E" alt="avatar">
      </div>
    </div>
  </header>

  <main class="pages" id="pages">
    <!-- ูุฑูุดฺฏุงู -->
    <section class="page active" id="page-store" aria-hidden="false">
      <div class="hero">
        <div>
          <h1>ุฎุฑุฏ ุงุนุชุจุงุฑ</h1>
          <p class="muted">ุฎุฑุฏ ฺฉูุ ูุณุท ูพุฑุฏุงุฎุช ฺฉู โ ุจูุชุฑู ูพุดููุงุฏูุง ุฑุง ููุงุณู ฺฉู</p>
        </div>
        <button class="cta">ุฏุฑุงูุช ุงุนุชุจุงุฑ</button>
      </div>

      <div class="section">
        <div class="section-header">
          <h3>ูพุดููุงุฏ ูฺู</h3>
          <button class="link">ูุดุงูุฏู ููู</button>
        </div>
        <div class="carousel" id="promoScroll">
          <!-- promo cards -->
          <div class="card glass promo">
            <div class="card-top">
              <div class="brand">ุฏุฌโูุงุฑฺฉุช</div>
              <div class="limit">ุงุนุชุจุงุฑ ุชุง <strong>ต,ฐฐฐ,ฐฐฐ</strong></div>
            </div>
            <div class="card-body">ณ ูุณุท ุจุฏูู ฺฉุงุฑูุฒุฏ</div>
            <button class="btn-primary">ุฏุฑุงูุช</button>
          </div>

          <div class="card glass promo">
            <div class="card-top"><div class="brand">ูุฑูุดฺฏุงู ูุจุงุณ</div><div class="limit">ุงุนุชุจุงุฑ ุชุง <strong>ฒ,ฐฐฐ,ฐฐฐ</strong></div></div>
            <div class="card-body">ถ ูุณุท ุจุง ฺฉุงุฑูุฒุฏ ฒูช</div>
            <button class="btn-primary">ุฏุฑุงูุช</button>
          </div>

          <div class="card glass promo">
            <div class="card-top"><div class="brand">ุณุงุฒูุงู ุชุฌูุฒุงุช</div><div class="limit">ุชุง <strong>ฑฐ,ฐฐฐ,ฐฐฐ</strong></div></div>
            <div class="card-body">ฑฒ ูุณุท ุจุง ุชุฎูู ูฺู</div>
            <button class="btn-primary">ุฏุฑุงูุช</button>
          </div>
        </div>
      </div>

      <div class="section">
        <h4>ุฏุณุชูโุจูุฏโูุง</h4>
        <div class="chips" id="cats">
          <button class="chip active">ููู</button>
          <button class="chip">ุงูฺฉุชุฑููฺฉ</button>
          <button class="chip">ูพูุดุงฺฉ</button>
          <button class="chip">ุฎุฏูุงุช</button>
          <button class="chip">ููุงุฏ ุบุฐุง</button>
        </div>

        <div class="store-grid">
          <article class="store-card glass">
            <div class="store-left">
              <div class="store-logo">ุฏุฌ</div>
            </div>
            <div class="store-mid">
              <h5>ุฏุฌโูุงุฑฺฉุช</h5>
              <p class="muted">ุงุนุชุจุงุฑ ุชุง ต,ฐฐฐ,ฐฐฐ โ ณ ูุณุท</p>
            </div>
            <div class="store-right">
              <div class="rate">ฺฉุงุฑูุฒุฏ ฐ%</div>
            </div>
          </article>

          <article class="store-card glass">
            <div class="store-left"><div class="store-logo">ุชุฌุงุฑุช</div></div>
            <div class="store-mid"><h5>ูุฑูุดฺฏุงู ูพูุดุงฺฉ</h5><p class="muted">ุงุนุชุจุงุฑ ุชุง ฒ,ฐฐฐ,ฐฐฐ โ ถ ูุณุท</p></div>
            <div class="store-right"><div class="rate">ฺฉุงุฑูุฒุฏ ฒ%</div></div>
          </article>

          <article class="store-card glass">
            <div class="store-left"><div class="store-logo">ูุงุฑฺฉุช</div></div>
            <div class="store-mid"><h5>ุณุฑูุณ ููุงุฒู ุฎุงูฺฏ</h5><p class="muted">ุงุนุชุจุงุฑ ุชุง ฑฐ,ฐฐฐ,ฐฐฐ โ ฑฒ ูุณุท</p></div>
            <div class="store-right"><div class="rate">ฺฉุงุฑูุฒุฏ ฑ.ต%</div></div>
          </article>
        </div>
      </div>
    </section>

    <!-- ุงุนุชุจุงุฑุงุช -->
    <section class="page" id="page-credits" aria-hidden="true">
      <div class="section hero-compact glass">
        <h2>ุฏุฑุงูุช ุงุนุชุจุงุฑ ู ูุงู</h2>
        <p class="muted">ูุณุช ุจุงูฺฉโูุง ู ุณุฑูุณโูุง ูุชุตู</p>
      </div>

      <div class="section">
        <h4>ุจุงูฺฉโูุง ู ุณุฑูุณโูุง</h4>
        <ul class="list glass">
          <li class="list-item">
            <div>
              <strong>ุจุงูฺฉ ุชุฌุงุฑุช</strong>
              <p class="muted">ูุงู ฺฉุงูุงูู</p>
            </div>
            <div class="meta">
              <div>ุณูู: ฑฐฐ,ฐฐฐ,ฐฐฐ</div>
              <div>ูุฏุช: ฑฒ ูุงู</div>
              <button class="btn-link">ุฌุฒุฆุงุช</button>
            </div>
          </li>

          <li class="list-item">
            <div><strong>ุจุงูฺฉ ููุช</strong><p class="muted">ูุงู ุจูู ฺฉุงุฑุช</p></div>
            <div class="meta"><div>ุณูู: ตฐ,ฐฐฐ,ฐฐฐ</div><div>ูุฏุช: ถ ุชุง ฑธ ูุงู</div><button class="btn-link">ุฌุฒุฆุงุช</button></div>
          </li>

          <li class="list-item">
            <div><strong>ุจุงูฺฉ ูู</strong><p class="muted">ุทุฑุญ ููุฑุจุงู</p></div>
            <div class="meta"><div>ุณูู: ฒฐ,ฐฐฐ,ฐฐฐ</div><div>ูุฏุช: ณถ ูุงู</div><button class="btn-link">ุฌุฒุฆุงุช</button></div>
          </li>

          <li class="list-item">
            <div><strong>ุจููุจุงูฺฉ</strong><p class="muted">ูุงู ุฏุฌุชุงู</p></div>
            <div class="meta"><div>ุณูู: ฑต,ฐฐฐ,ฐฐฐ</div><div>ูุฏุช: ฑฒ ูุงู</div><button class="btn-link">ุฌุฒุฆุงุช</button></div>
          </li>

          <li class="list-item">
            <div><strong>ุชุงุฑุง</strong><p class="muted">ุงุนุชุจุงุฑ ุฎุฑุฏ ุงูุณุงุท</p></div>
            <div class="meta"><div>ุณูู: ต,ฐฐฐ,ฐฐฐ</div><div>ูุฏุช: ณ ูุณุท</div><button class="btn-link">ุฌุฒุฆุงุช</button></div>
          </li>
        </ul>
      </div>

      <div class="section">
        <h4>ูพุดููุงุฏ ููุดููุฏ</h4>
        <div class="smart-card glass highlight">
          <p class="muted">ุจุง ุชูุฌู ุจู ุงุทูุงุนุงุช ุงุนุชุจุงุฑุณูุฌ ู ุจุงูฺฉโูุง ูุชุตู ุจู ุญุณุงุจ ุดูุงุ</p>
          <p class="big">ุดูุง ูโุชูุงูุฏ <strong>ูุงู ฑฐฐ ูููู ุชููุงู ฺฉุงูุงูู ุจุงูฺฉ ุชุฌุงุฑุช</strong> ุจุง ุจุงุฒูพุฑุฏุงุฎุช <strong>ฑฒ ูุงูู</strong> ุฏุฑุงูุช ฺฉูุฏ.</p>
          <button class="btn-primary">ุดุฑูุน ูุฑุขูุฏ ุฏุฑุงูุช</button>
        </div>
      </div>
    </section>

    <!-- ฺฉู ูพูู -->
    <section class="page" id="page-wallet" aria-hidden="true">
      <div class="section hero-compact glass">
        <h2>ฺฉู ูพูู</h2>
        <p class="muted">ููุง ฺฉู ุญุณุงุจโูุง ู ฺฉุงุฑุชโูุง</p>
      </div>

      <div class="section">
        <div class="balance glass">
          <div>
            <div class="label">ููุฌูุฏ ฺฉู</div>
            <div class="amount">ฑฒ,ณดต,ถฐฐ <span class="toman">ุชููุงู</span></div>
          </div>
          <div class="small">ุงุนุชุจุงุฑ ูุนุงู: ต,ฐฐฐ,ฐฐฐ</div>
        </div>

        <div class="cards">
          <div class="card glass card-bank">
            <div class="card-top">
              <div class="chip"></div>
              <div class="bank-name">ุจุงูฺฉ ููุช</div>
            </div>
            <div class="card-num">**** ฒณดต</div>
            <div class="card-bottom">ููุฌูุฏ: ณ,ดตถ,ฐฐฐ</div>
          </div>

          <div class="card glass card-bank">
            <div class="card-top">
              <div class="chip"></div>
              <div class="bank-name">ุจููุจุงูฺฉ</div>
            </div>
            <div class="card-num">**** ฑฒณด</div>
            <div class="card-bottom">ุงุนุชุจุงุฑ ูุนุงู: ต,ฐฐฐ,ฐฐฐ</div>
          </div>

          <button class="btn-ghost">ุงูุฒูุฏู ฺฉุงุฑุช</button>
        </div>
      </div>
    </section>

    <!-- ููุด ูุตููุน (ฺุช) -->
    <section class="page" id="page-ai" aria-hidden="true">
      <div class="section hero-compact glass">
        <h2>ูุดุงูุฑ ููุดููุฏ ุงุนุชุจุงุฑ</h2>
        <p class="muted">ฺุช ููุงุด โ ููุท ุฑุงุจุท ฺฉุงุฑุจุฑ</p>
      </div>

      <div class="chat glass">
        <div class="messages" id="chatMessages">
          <div class="msg bot">
            <div class="bubble">
              <p><strong>ุณูุงู!</strong> ูู ูุดุงูุฑ ููุดููุฏ ุดูุง ูุณุชู. ุงุฒ ฺฉ ุงุฒ ุณูุงูุงุช ุณุฑุน ุงูุชุฎุงุจ ฺฉูุฏ ุง ูพุงู ุฎูุฏ ุฑุง ุจููุณุฏ.</p>
            </div>
          </div>

          <div class="msg user">
            <div class="bubble">ุงูุงู ฺู ูุงู ูุง ูุชููู ุจฺฏุฑูุ</div>
          </div>

          <div class="msg bot">
            <div class="bubble">
              <p>ุจุง ุชูุฌู ุจู ุงุทูุงุนุงุช ุงุนุชุจุงุฑุณูุฌ ู ุจุงูฺฉโูุง ฺฉู ุงุฒ ุดูุง ุฏุฑ ุงุฎุชุงุฑ ุฏุงุฑูุ ุดูุง ูโุชูุงูุฏ ูุงู <strong>ฑฐฐ ูููู</strong> ุจุง ุจุงุฒูพุฑุฏุงุฎุช <strong>ฑฒ ูุงูู</strong> ฺฉุงูุงูู ุจุงูฺฉ ุชุฌุงุฑุช ุฑุง ุฏุฑุงูุช ฺฉูุฏ. ูุงู ูุณุชุฏ ุขููุฒุด ฺฉุงูู ูุฑุขูุฏ ุฑุง ุจุฑุงุชุงู ุดุฑุญ ุฏููุ</p>
              <div class="quick"> <button class="chip">ุขููุฒุด ูุฑุงูุฏ</button> <button class="chip">ุดุฑุงุท ุจุดุชุฑ</button> </div>
            </div>
          </div>

          <div class="msg user">
            <div class="bubble">ุงูุงู ฺู ุงุนุชุจุงุฑ ูุง ูุชููู ุจฺฏุฑูุ</div>
          </div>

          <div class="msg bot">
            <div class="bubble">
              <p>ุฏุฑ ุญุงู ุญุงุถุฑ ูโุชูุงูุฏ ุงุฒ <strong>ุงุนุชุจุงุฑ ต ูููู ุชุงุฑุง</strong> ุงุณุชูุงุฏู ฺฉูุฏ ู ุขู ุฑุง ุฏุฑ <strong>ณ ูุณุท ุจุฏูู ุณูุฏ</strong> ุจุงุฒูพุฑุฏุงุฎุช ููุงุฏ.</p>
              <div class="quick"> <button class="chip">ุฏุฑุงูุช ุชุงุฑุง</button> <button class="chip">ููุงุณู</button> </div>
            </div>
          </div>
        </div>

        <div class="chat-footer">
          <div class="quick-questions">
            <button class="chip small">ฺู ูุงูโูุง ูโุชููู ุจฺฏุฑูุ</button>
            <button class="chip small">ุงุนุชุจุงุฑ ูุฑูุดฺฏุงู</button>
            <button class="chip small">ูุถุนุช ูุงู ูู</button>
          </div>
          <div class="input-row">
            <input id="chatInput" placeholder="ุณูุงู ุฎูุฏ ุฑุง ุจููุณุฏ..." />
            <button id="sendMsg" class="btn-icon">ุงุฑุณุงู</button>
          </div>
        </div>
      </div>
    </section>

    <!-- ูพุฑุฏุงุฎุช -->
    <section class="page" id="page-pay" aria-hidden="true">
      <div class="section hero-compact glass">
        <h2>ุฎุฑุฏ ุญุถูุฑ ู ูุฏุฑุช ุงูุณุงุท</h2>
        <p class="muted">ูพุฑุฏุงุฎุช ุณุฑุน ุง ุจุฑูุงููโุฑุฒ ุงูุณุงุท</p>
      </div>

      <div class="section">
        <h4>ูพุฑุฏุงุฎุช ุญุถูุฑ</h4>
        <div class="pay-card glass">
          <div class="qr">
            <svg width="120" height="120" viewBox="0 0 120 120"><rect width="120" height="120" rx="12" fill="rgba(255,255,255,0.06)"/><rect x="10" y="10" width="30" height="30" fill="#fff"/><rect x="80" y="10" width="30" height="30" fill="#fff"/><rect x="10" y="80" width="30" height="30" fill="#fff"/></svg>
          </div>
          <div class="pay-info">
            <div class="amount">ูุจูุบ: <strong>ฑ,ฒตฐ,ฐฐฐ ุชููุงู</strong></div>
            <div class="muted">ูพุฑุฏุงุฎุช ุจุง NFC ุง ุงุณฺฉู QR</div>
            <div class="pay-actions"><button class="btn-primary">ุงุณฺฉู</button><button class="btn-ghost">ูพุฑุฏุงุฎุช NFC</button></div>
          </div>
        </div>
      </div>

      <div class="section">
        <h4>ูุฏุฑุช ุจุฏูโูุง</h4>
        <ul class="debt-list">
          <li class="debt glass">
            <div>
              <strong>ูุณุท ฺฉุงูุงูู</strong>
              <p class="muted">ูุจูุบ ูุณุท: ธ,ตฐฐ,ฐฐฐ โ ุณุฑุฑุณุฏ: ฒฐ ุงุณููุฏ</p>
            </div>
            <div class="debt-meta">
              <div class="progress"><div style="width:40%"></div></div>
              <button class="btn-primary small">ูพุฑุฏุงุฎุช ูุณุท</button>
            </div>
          </li>
          <li class="debt glass">
            <div><strong>ุงุนุชุจุงุฑ ุชุงุฑุง</strong><p class="muted">ูุณุท ุงูู: ฑ,ถถถ,ฐฐฐ โ ุณุฑุฑุณุฏ: ฑฐ ูุฑูุฑุฏู</p></div>
            <div class="debt-meta"><div class="progress"><div style="width:10%"></div></div><button class="btn-primary small">ูพุฑุฏุงุฎุช ูุณุท</button></div>
          </li>
        </ul>
      </div>
    </section>

    <!-- ุญุณุงุจุฏุงุฑ ุดุฎุต -->
    <section class="page" id="page-finance" aria-hidden="true">
      <div class="section hero-compact glass">
        <h2>ุญุณุงุจุฏุงุฑ ุดุฎุต</h2>
        <p class="muted">ูุฒููโูุงุ ุฏุฑุขูุฏูุงุ ุฏุงุฑุงโูุง ู ุจุฏูโูุง</p>
      </div>

      <div class="section">
        <div class="finance-overview glass">
          <div class="col">
            <div class="label">ูุงู ุฌุงุฑ</div>
            <div class="big">ููุง ฺฉู</div>
          </div>
          <div class="col">
            <canvas id="miniChart" width="200" height="80"></canvas>
          </div>
        </div>

        <div class="section-row">
          <div class="tile glass">
            <div class="tile-title">ูุฒูู</div>
            <div class="tile-amount">ูข,ูฉูงฐ,ููู</div>
          </div>
          <div class="tile glass">
            <div class="tile-title">ุฏุฑุขูุฏ</div>
            <div class="tile-amount">ูกูง,ููู,ููู</div>
          </div>
        </div>
      </div>

      <div class="section">
        <h4>ุชุฑุงฺฉูุดโูุง</h4>
        <ul class="transactions glass">
          <li><div class="t-left"><div class="t-title">ุฎุฑุฏ ููพโุชุงูพ</div><div class="muted">ูุฑูุดฺฏุงู ุฏุฌุชุงู</div></div><div class="t-right">-ฒ,ตฐฐ,ฐฐฐ</div></li>
          <li><div class="t-left"><div class="t-title">ุชุงฺฉุณ ุงูุชุฑูุช</div><div class="muted">ุณุงุนุช ฑด:ฑฒ</div></div><div class="t-right">-ฑฒฐ,ฐฐฐ</div></li>
          <li><div class="t-left"><div class="t-title">ุฑุณุชูุฑุงู</div><div class="muted">ุดุงู</div></div><div class="t-right">-ณตฐ,ฐฐฐ</div></li>
          <li><div class="t-left"><div class="t-title">ุญููู ูุงูุงูู</div><div class="muted">ุดุฑฺฉุช</div></div><div class="t-right income">+ฑต,ฐฐฐ,ฐฐฐ</div></li>
        </ul>
        <p class="muted small note">ุงู ุงุทูุงุนุงุช ุจู ุตูุฑุช ุฎูุฏฺฉุงุฑ ุงุฒ ูพุงูฺฉโูุง ุจุงูฺฉ ุดูุง ุชุญูู ุดุฏู ุงุณุช. (ููุงุด)</p>
      </div>
    </section>

    <!-- ุญุณุงุจ ฺฉุงุฑุจุฑ -->
    <section class="page" id="page-profile" aria-hidden="true">
      <div class="section hero-compact glass">
        <h2>ุญุณุงุจ ฺฉุงุฑุจุฑ</h2>
        <p class="muted">ูุถุนุช ู ุชูุธูุงุช ุญุณุงุจ</p>
      </div>

      <div class="section profile glass">
        <div class="profile-top">
          <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='80' height='80'%3E%3Ccircle cx='40' cy='32' r='18' fill='%23fff'/%3E%3Cpath d='M10 70c0-17 13-30 30-30s30 13 30 30' fill='none' stroke='%23fff' stroke-opacity='0.15'/%3E%3C/svg%3E" alt="avatar">
          <div>
            <h3>ููุฏู ูุฑุฒุง</h3>
            <div class="muted">ุณุทุญ ุงุนุชุจุงุฑ: ุฎูุจ โข ุงูุชุงุฒ: ทด</div>
          </div>
        </div>

        <ul class="settings">
          <li>ุงุทูุงุนุงุช ุดุฎุต</li>
          <li>ูุฏุงุฑฺฉ</li>
          <li>ุชูุธูุงุช</li>
          <li>ุงููุช</li>
          <li class="danger">ุฎุฑูุฌ</li>
        </ul>
      </div>
    </section>

  </main>

  <!-- Bottom Navigation -->
  <nav class="bottom-nav glass" role="navigation" aria-label="ูุงูุจุฑ ูพุงู">
    <div class="nav-left">
      <button class="nav-item" data-target="page-store"><span class="icon">๐๏ธ</span><span class="label">ูุฑูุดฺฏุงู</span></button>
      <button class="nav-item" data-target="page-credits"><span class="icon">๐ฆ</span><span class="label">ุงุนุชุจุงุฑุงุช</span></button>
      <button class="nav-item" data-target="page-wallet"><span class="icon">๐</span><span class="label">ฺฉู ูพูู</span></button>
    </div>

    <div class="nav-center">
      <button id="aiBtn" class="nav-ai" data-target="page-ai" aria-label="ููุด ูุตููุน">
        <div class="ai-circle">
          <svg width="28" height="28" viewBox="0 0 24 24"><path fill="#fff" d="M12 2L15 8h6l-4.8 3.5L18 20l-6-4-6 4 1.8-8.5L3 8h6z"/></svg>
        </div>
      </button>
    </div>

    <div class="nav-right">
      <button class="nav-item" data-target="page-pay"><span class="icon">๐ณ</span><span class="label">ูพุฑุฏุงุฎุช</span></button>
      <button class="nav-item" data-target="page-finance"><span class="icon">๐</span><span class="label">ุญุณุงุจุฏุงุฑ</span></button>
      <button class="nav-item" data-target="page-profile"><span class="icon">๐ค</span><span class="label">ุญุณุงุจ ฺฉุงุฑุจุฑ</span></button>
    </div>
  </nav>

  <template id="offlineTpl">
    <div class="offline glass" style="position:fixed;left:12px;right:12px;top:84px;z-index:80"><h3>ุขููุงู</h3><p class="muted">ูุณุฎู ูุญุฏูุฏ ุขููุงูโุจุฑุฎ ูฺฺฏโูุง ุฏุฑ ุฏุณุชุฑุณ ูุณุชูุฏ.</p></div>
  </template>

  <script>
/* app.js - Inlined: Navigation, interactions, PWA install & SW registration via blob, manifest blob */
"use strict";

const pages = document.querySelectorAll('.page');
const navItems = document.querySelectorAll('.nav-item');
const aiBtn = document.getElementById('aiBtn');
const installBtn = document.getElementById('installBtn');
let deferredPrompt = null;

// Navigation
function showPage(id){
  pages.forEach(p=>{
    if(p.id===id){ p.classList.add('active'); p.setAttribute('aria-hidden','false'); }
    else { p.classList.remove('active'); p.setAttribute('aria-hidden','true'); }
  });
  navItems.forEach(n=> n.classList.toggle('active', n.dataset.target === id));
  const active = document.getElementById(id);
  if(active) active.scrollTop = 0;
}
navItems.forEach(btn=>{
  btn.addEventListener('click', ()=>{
    showPage(btn.dataset.target);
  });
});
aiBtn.addEventListener('click', ()=> showPage(aiBtn.dataset.target));

// default active
showPage('page-store');

// Chat UI (fake)
const chatInput = document.getElementById('chatInput');
const sendMsg = document.getElementById('sendMsg');
const chatMessages = document.getElementById('chatMessages');

function appendMessage(text, who='user'){
  const el = document.createElement('div'); el.className = 'msg '+who;
  const bubble = document.createElement('div'); bubble.className='bubble';
  bubble.innerHTML = text;
  el.appendChild(bubble);
  chatMessages.appendChild(el);
  chatMessages.scrollTop = chatMessages.scrollHeight;
}
if(sendMsg){
  sendMsg.addEventListener('click', ()=>{
    const v = chatInput.value.trim(); if(!v) return;
    appendMessage(v,'user');
    chatInput.value='';
    setTimeout(()=> {
      appendMessage('ุงู ูพุงุณุฎ ููุงุด ุงุณุช. ุจุฑุง ูุดุงูุฏู ูพุดููุงุฏุงุช ุงุฒ ุฏฺฉููโูุง ูพุดููุงุฏ ุงุณุชูุงุฏู ฺฉูุฏ.','bot');
    },600);
  });
}

// quick chips binding
document.querySelectorAll('.quick-questions .chip, .quick .chip').forEach(c=>{
  c.addEventListener('click', ()=> {
    const q = c.textContent.trim();
    appendMessage(q,'user');
    setTimeout(()=> appendMessage('ุฏุฑ ุญุงู ุจุฑุฑุณ... (ูพุงุณุฎ ููุงุด) ุดูุง ูโุชูุงูุฏ ...','bot'),700);
  });
});

// mini chart draw (simple)
(function drawMini(){
  const canvas = document.getElementById('miniChart');
  if(!canvas) return;
  const ctx = canvas.getContext('2d');
  const w = canvas.width, h = canvas.height;
  const data = [2,6,4,8,5,7,6];
  const max = Math.max(...data);
  ctx.clearRect(0,0,w,h);
  ctx.lineWidth=2;
  ctx.beginPath();
  data.forEach((d,i)=>{
    const x = (i/(data.length-1))*(w-8)+4;
    const y = h - ((d/max)*(h-12)+6);
    if(i===0) ctx.moveTo(x,y); else ctx.lineTo(x,y);
  });
  const g = ctx.createLinearGradient(0,0,w,0); g.addColorStop(0,'#6ee7b7'); g.addColorStop(1,'#8bd3ff');
  ctx.strokeStyle = g; ctx.stroke();
})();

// PWA Install prompt handling
window.addEventListener('beforeinstallprompt', (e)=>{
  e.preventDefault();
  deferredPrompt = e;
  installBtn.style.display='inline-block';
});
installBtn.addEventListener('click', async ()=>{
  if(!deferredPrompt) return;
  deferredPrompt.prompt();
  const choice = await deferredPrompt.userChoice;
  deferredPrompt = null;
  installBtn.style.display='none';
});

// offline template insert when offline
window.addEventListener('offline', ()=> {
  if(!document.querySelector('.offline')){
    const tpl = document.getElementById('offlineTpl');
    document.body.appendChild(tpl.content.cloneNode(true));
  }
});

/* Create manifest dynamically as blob and link it */
(function createManifest(){
  try{
    const manifest = {
      "short_name":"ุงุนุชุจุงุฑ",
      "name":"ุณููพุฑ ุงูพ ุงุนุชุจุงุฑ ู ูุฏุฑุช ูุงู",
      "icons":[
        {"src":"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 128 128'%3E%3Crect rx='24' width='128' height='128' fill='%230b1226'/%3E%3Ccircle cx='64' cy='48' r='20' fill='%23ffffff' opacity='0.06'/%3E%3Cpath d='M36 80h56v8H36z' fill='%23ffffff' opacity='0.06'/%3E%3C/svg%3E","sizes":"128x128","type":"image/svg+xml"}
      ],
      "start_url":"./",
      "display":"standalone",
      "background_color":"#0b1226",
      "theme_color":"#0b1226",
      "orientation":"portrait"
    };
    const blob = new Blob([JSON.stringify(manifest)], {type:'application/json'});
    const url = URL.createObjectURL(blob);
    const link = document.createElement('link');
    link.rel = 'manifest';
    link.href = url;
    document.head.appendChild(link);
  }catch(e){console.warn('manifest failed',e)}
})();

/* Service Worker code as a string. It will cache the current page path for offline. */
(function registerInlineSW(){
  if(!('serviceWorker' in navigator)) return;
  const currentPath = location.pathname || '/';
  const swCode = `
    const CACHE = 'app-shell-v1';
    const ASSETS = ['${currentPath}'];
    self.addEventListener('install', (e) => {
      e.waitUntil(
        caches.open(CACHE).then((cache) => cache.addAll(ASSETS))
      );
      self.skipWaiting();
    });
    self.addEventListener('activate', (e) => {
      e.waitUntil(
        caches.keys().then(keys => Promise.all(keys.map(k => {
          if(k !== CACHE) return caches.delete(k);
        })))
      );
      self.clients.claim();
    });
    self.addEventListener('fetch', (e) => {
      const req = e.request;
      if(req.mode === 'navigate'){
        e.respondWith(
          fetch(req).then(r => {
            return r;
          }).catch(()=> caches.match(ASSETS[0]))
        );
        return;
      }
      e.respondWith(
        caches.match(req).then(cached => {
          if(cached) return cached;
          return fetch(req).then(resp => {
            if(req.method === 'GET' && resp && resp.status === 200 && resp.type !== 'opaque'){
              const copy = resp.clone();
              caches.open(CACHE).then(cache => cache.put(req, copy));
            }
            return resp;
          }).catch(()=> caches.match(ASSETS[0]));
        })
      );
    });
  `;
  try{
    const blob = new Blob([swCode], {type:'application/javascript'});
    const swUrl = URL.createObjectURL(blob);
    navigator.serviceWorker.register(swUrl).then(reg=>{
      console.log('SW registered (inline blob)', reg);
    }).catch(err=>{
      console.warn('SW register failed', err);
    });
  }catch(err){
    console.warn('SW creation failed', err);
  }
})();

</script>
</body>
</html>